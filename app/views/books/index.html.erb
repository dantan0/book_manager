<p id="notice"><%= flash[:notice] %></p>

<h1>Books</h1>

<table>
  <thead>
    <tr>
      <th><%= link_to 'Title', books_path(order_by: 'title') %></th>
      <th><%= link_to 'Year', books_path(order_by: 'year') %></th>
      <th><%= link_to 'Author', books_path(order_by: 'author') %></th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @books.each do |book| %>
      <tr>
        <td><%= book.title %></td>
        <td><%= book.year %></td>
        <td><%= book.author.first_name %> <%= book.author.last_name %></td>
        <td><%= link_to 'Show', book %></td>
        <td><%= link_to 'Edit', edit_book_path(book) %></td>
        <td><%= form_with model: book, method: :delete, local: true do |f| %>
            <%= f.submit 'Delete' %>
            <% end %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>


<p>
<%= link_to 'New Book', new_book_path %> |
<%= link_to "Home", root_path %>    
</p>